# 24Mホライズンでのアルゴリズムパフォーマンス分析

## 実行結果サマリー

**対象**: operational_24M  
**test期間**: 2021-01-29 ～ 2021-12-30（12ヶ月分）  
**評価期間**: 2021年のリバランス日から24ヶ月後（2023年）まで

### 結果

| λ値 | 平均超過 | P10(超過) | 勝率 | train超過 | test超過 |
|-----|---------|-----------|------|----------|---------|
| 0.00 | **-9.20%** | -14.34% | 8.3% | **+1.44%** | 0.00% |
| 0.05 | **-9.28%** | -16.20% | 8.3% | +0.76% | 0.00% |

## 結果の評価

### 1. test期間の結果が悪い理由の検討

#### A. train期間とtest期間の比較

**重要な観察**：
- **train期間**: +1.44% (λ=0.00), +0.76% (λ=0.05) → **正の値**
- **test期間**: -9.20% (λ=0.00), -9.28% (λ=0.05) → **負の値**

**考察**：
- train期間では正の超過リターンを達成している
- これは、アルゴリズム自体はある程度機能していることを示唆している
- test期間で悪い結果が出ているのは、以下の可能性がある：
  1. **2021年から2023年の市場環境**が悪かった
  2. **2021年のポートフォリオ選定**が適切でなかった
  3. **過学習**（train期間に過度に適合している）

#### B. test期間が短い（12ヶ月分のみ）

**問題点**：
- test期間が2021年の12ヶ月分のみ
- これは、24Mホライズンの制約（`as_of_date=2023-12-31`）により、test期間を2021年に設定する必要があったため
- **サンプル数が少ない**ため、統計的に不安定な可能性がある
- 特に、P10（下位10%分位数）はサンプル数が少ないと不安定になる

**影響**：
- 12ヶ月分のデータでは、1年分の市場環境の影響を大きく受ける
- 2021年から2023年の期間の市場環境が悪かった場合、結果が悪くなる
- より長期のtest期間があれば、より安定した評価が可能

#### C. 2021年から2023年の市場環境

**考慮事項**：
- 2021年から2023年の期間は、以下のような市場環境だった可能性がある：
  - 2021年: コロナ後の回復期、変動が大きい
  - 2022年: インフレ懸念、金融引き締め、ウクライナ戦争
  - 2023年: インフレ継続、金利上昇継続
- これらの市場環境は、**長期保有戦略（24Mホライズン）には不利**だった可能性がある
- 特に、**変動が大きく、下振れリスクが高い期間**だった可能性がある

### 2. アルゴリズムの見込みを判断するための考慮事項

#### A. train期間での結果（正の値）

**観察**：
- train期間: +1.44% (λ=0.00), +0.76% (λ=0.05)
- これは、アルゴリズムが**train期間では機能している**ことを示唆している

**考察**：
- アルゴリズム自体には一定の有効性がある可能性がある
- ただし、train期間での結果がtest期間で再現されていない（過学習の可能性）

#### B. test期間が短い（12ヶ月分のみ）

**問題点**：
- test期間が2021年の12ヶ月分のみで、サンプル数が少ない
- 1年分の市場環境の影響を大きく受ける
- より長期のtest期間があれば、より安定した評価が可能

**推奨**：
- より長期のtest期間での評価（例：2019年から2021年まで）
- ただし、24Mホライズンの制約により、`as_of_date=2023-12-31`では2021年までしかtest期間を設定できない

#### C. 市場環境の影響

**考慮事項**：
- 2021年から2023年の期間は、長期保有戦略には不利な市場環境だった可能性がある
- より長期のtest期間や、異なる市場環境での評価があれば、より適切な判断が可能

**推奨**：
- 12Mホライズンでの結果と比較
- 異なる期間（例：2019年から2021年）での評価
- ただし、24Mホライズンの制約により、`as_of_date=2023-12-31`では2021年までしかtest期間を設定できない

### 3. アルゴリズムの見込みを判断するための次のステップ

#### A. 12Mホライズンでの結果と比較

**推奨**：
- 12Mホライズン（例：`12M_momentum`、`12M_reversal`）での結果を確認
- 12Mホライズンでは、より長期のtest期間（例：2022年から2023年）を設定できる可能性がある
- 12Mホライズンと24Mホライズンの結果を比較して、アルゴリズムの有効性を判断

#### B. より長期のtest期間での評価

**推奨**：
- `as_of_date`を変更して、より長期のtest期間を設定できる可能性を検討
- ただし、2025年のデータを残したいという制約があるため、これは難しい

#### C. train期間での結果の詳細分析

**推奨**：
- train期間での結果の詳細分析（例：どの期間で良い結果が出ているか、どの期間で悪い結果が出ているか）
- これにより、アルゴリズムの有効性をより適切に判断できる可能性がある

#### D. 他の評価指標の確認

**推奨**：
- 累積リターン、シャープレシオ、最大ドローダウンなどの他の評価指標を確認
- これにより、パフォーマンスをより多面的に評価できる

### 4. 結論と推奨事項

#### 結論

**現時点での判断**：
- **アルゴリズム自体には一定の有効性がある可能性がある**（train期間で正の値）
- ただし、test期間での結果が悪い（過学習の可能性、またはtest期間が不利な市場環境）
- test期間が短い（12ヶ月分のみ）ため、統計的に不安定な可能性がある

#### 推奨事項

1. **12Mホライズンでの結果と比較**
   - 12Mホライズン（例：`12M_momentum`、`12M_reversal`）での結果を確認
   - 12Mホライズンと24Mホライズンの結果を比較

2. **train期間での結果の詳細分析**
   - train期間での結果の詳細分析（どの期間で良い結果が出ているか）

3. **他の評価指標の確認**
   - 累積リターン、シャープレシオ、最大ドローダウンなどの他の評価指標を確認

4. **より長期のtest期間での評価（可能であれば）**
   - `as_of_date`を変更して、より長期のtest期間を設定できる可能性を検討

5. **アルゴリズムの見込みを判断する前に**
   - 12Mホライズンでの結果を確認する
   - train期間での結果の詳細分析を行う
   - 他の評価指標を確認する
   - より長期のtest期間での評価を検討する

## 補足：2021年から2023年の市場環境

### 市場環境の概要

2021年から2023年の期間は、以下のような市場環境だった可能性がある：

- **2021年**: コロナ後の回復期、変動が大きい
- **2022年**: インフレ懸念、金融引き締め、ウクライナ戦争
- **2023年**: インフレ継続、金利上昇継続

これらの市場環境は、**長期保有戦略（24Mホライズン）には不利**だった可能性がある。

### 長期保有戦略への影響

長期保有戦略（24Mホライズン）の場合：
- 2021年のポートフォリオが2023年末まで評価される
- 2022年から2023年の市場環境（インフレ懸念、金融引き締め、金利上昇）が悪影響を与えた可能性がある
- 特に、**変動が大きく、下振れリスクが高い期間**だった可能性がある

## まとめ

### 現時点での判断

- **アルゴリズム自体には一定の有効性がある可能性がある**（train期間で正の値）
- ただし、test期間での結果が悪い（過学習の可能性、またはtest期間が不利な市場環境）
- test期間が短い（12ヶ月分のみ）ため、統計的に不安定な可能性がある

### 次のステップ

1. **12Mホライズンでの結果と比較**（最も重要）
2. **train期間での結果の詳細分析**
3. **他の評価指標の確認**
4. **より長期のtest期間での評価（可能であれば）**

### アルゴリズムの見込みを判断する前に

- 12Mホライズンでの結果を確認する
- train期間での結果の詳細分析を行う
- 他の評価指標を確認する
- より長期のtest期間での評価を検討する

**結論**: 現時点では、**アルゴリズムの見込みを判断するには情報が不足している**。12Mホライズンでの結果と比較して、より適切な判断を行うことを推奨する。



